# Введение в многоязыковое программирование

Многоязыковое программирование (mixed-language programming) -- процесс разработки ПО, в котором исходный код написан на двух (или более) языках программирования.

Примеры задач:
1. Системные компоненты, драйверы. Эффективное управление памяти, управление накладными расходами.
2. Параллельная обработка больших массивов данных.
3. Графически интерфейс пользователя (меньше требования к квалификации, и быстрейшая скорость выхода на рынок)
4. Вычисления с плавающий запятой
5. Задачи встраиваемых систем (медицинский робот-манипулятор в системе жесткого реального времени, авионика, космонавтика, системы для АЭС)
6. Работа с СУБД или взаимодействия с корпоративной инфраструктурой (требования меньше, чем к системны программистам)
7. Работа с сетью

## Особенности многоязыкового программирования

- Многоязыкового программирования позволяет спокойно использовать унаследованный (legacy) код.
- Можно использовать технологии, которые недоступны в одном языке.
- Доступ к эффективным особенностям другого язык (генерация кода из UML)
- Эффективное использование целевой платформы (native code, байт-код, Intermediate language)
- код для AMD64 + код с расширенными инструкциями

## Среды разработки

Разные стадии компиляции и одна стадия компоновки. Можно иметь статическую, можно динамическую компоновку.

## Двоичный интерфейс

Двоичный интерфейс приложений (application binary interface, ABI) -- набор соглашений для доступа к ОС и к архитектуре набора команд (instruction set architecture, ISA) в пространстве пользователя.

В C стандартизирован ABI, в C++ нет, по этой причине мы используем C-ABI.

Соглашения о вызове (calling convention) определяют правила для:
- присваивания имен переменным и процедурам (регистр передаваемых символов? Внешнее имя?)
- для использования стека (переменное число параметров? Кто очищает стек?)
- для передачи параметров между процедурами (передача значений по значению или по адресу?)
- какие типы данных или даже структур эквивалентны между различными видами программирования

Виды соглашений о вызовах:
- cdecl (входит в стандарт C)
- pascal (для языка Pascal)
- stdcall (в Win API)
- fastcall (передача параметров осуществляется через регистры)
- safecall (для вызовов методов интерфейсов COM)
- thiscall (для методов классов C++)

